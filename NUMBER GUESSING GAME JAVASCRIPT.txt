let secretNumber, min, max, attempts, maxAttempts, hintUsed;
let bestScores = { easy: null, medium: null, hard: null };

const message = document.getElementById('message');
const hint = document.getElementById('hint');
const guessInput = document.getElementById('guess');
const submitBtn = document.getElementById('submit');
const restartBtn = document.getElementById('restart');
const attemptsDisplay = document.getElementById('attempts');
const bestScoreDisplay = document.getElementById('bestScore');
const difficultySelect = document.getElementById('difficulty');
const hintBtn = document.getElementById('hintBtn');

function initGame() {
    const difficulty = difficultySelect.value;

    if (difficulty === 'easy') {
        min = 1; max = 50; maxAttempts = 10;
    } else if (difficulty === 'medium') {
        min = 1; max = 100; maxAttempts = 7;
    } else {
        min = 1; max = 200; maxAttempts = 5;
    }

    secretNumber = Math.floor(Math.random() * (max - min + 1)) + min;
    attempts = 0;
    hintUsed = false;

    message.textContent = "";
    hint.textContent = "";
    attemptsDisplay.textContent = "";
    bestScoreDisplay.textContent = bestScores[difficulty] ? `Best Score: ${bestScores[difficulty]} attempts` : "";
    submitBtn.disabled = false;
    guessInput.disabled = false;
    guessInput.value = "";
    guessInput.focus();
}

submitBtn.onclick = function() {
    let guess = Number(guessInput.value);
    if (!guess || guess < min || guess > max) {
        message.textContent = `Enter a number between ${min} and ${max}.`;
        message.style.color = "red";
        return;
    }

    attempts++;

    if (guess === secretNumber) {
        message.textContent = ` You Win! You guessed it in ${attempts} attempts.`;
        message.style.color = "green";
        submitBtn.disabled = true;
        guessInput.disabled = true;

        const difficulty = difficultySelect.value;
        if (!bestScores[difficulty] || attempts < bestScores[difficulty]) {
            bestScores[difficulty] = attempts;
        }
        bestScoreDisplay.textContent = `Best Score: ${bestScores[difficulty]} attempts`;
        hint.textContent = "";
    } else if (attempts >= maxAttempts) {
        message.textContent = ` You Lose! The number was ${secretNumber}.`;
        message.style.color = "red";
        submitBtn.disabled = true;
        guessInput.disabled = true;
        hint.textContent = "";
    } else {
        if (guess < secretNumber) {
            min = guess + 1;
            message.textContent = "Too low! Try again.";
        } else {
            max = guess - 1;
            message.textContent = "Too high! Try again.";
        }
        message.style.color = "orange";
        hint.textContent = `Hint: Try between ${min}–${max}`;
    }

    attemptsDisplay.textContent = `Attempts: ${attempts} / ${maxAttempts}`;
    guessInput.value = "";
    guessInput.focus();
};

hintBtn.onclick = function() {
    if (hintUsed) {
        alert("Hint already used!");
        return;
    }

    const guess = Number(guessInput.value);
    if (!guess) {
        alert("Enter a number first to use hint!");
        return;
    }

    const diff = Math.abs(secretNumber - guess);
    if (diff === 0) {
        alert("You already guessed it!");
        return;
    }

    hint.textContent = diff <= 5 ? " Very close!" : "Not very close!";
    hintUsed = true;
};

restartBtn.onclick = initGame;
difficultySelect.onchange = initGame;

initGame();

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Number Guessing Game</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="game-container">
    <h1>Guess the Number!</h1>

    <label for="difficulty">Select Difficulty:</label>
    <select id="difficulty">
        <option value="easy">Easy (1–50)</option>
        <option value="medium" selected>Medium (1–100)</option>
        <option value="hard">Hard (1–200)</option>
    </select>

    <p>Enter your guess:</p>
    <input type="number" id="guess" placeholder="Your guess">
    <button id="submit">Guess</button>
    <button id="hintBtn">Get Hint</button>

    <p id="message"></p>
    <p id="hint"></p>
    <p id="attempts"></p>
    <p id="bestScore"></p>

    <button id="restart">Restart</button>
</div>
<script src="script.js"></script>
</body>
</html>

body {
    background: #f0f0f0;
    font-family: Arial, sans-serif;
}

.game-container {
    background: #fff;
    padding: 30px;
    border-radius: 12px;
    max-width: 400px;
    margin: 50px auto;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    text-align: center;
}

input[type="number"], select {
    padding: 10px;
    font-size: 16px;
    width: 180px;
    margin-bottom: 10px;
    border: 1px solid #ccc;
    border-radius: 6px;
}

button {
    padding: 10px 18px;
    font-size: 16px;
    margin: 5px;
    cursor: pointer;
    border: none;
    border-radius: 6px;
    background-color: #4cafef;
    color: white;
}

button:hover {
    background-color: #3a8cd6;
}

#message {
    margin: 15px 0;
    font-weight: bold;
}

#hint, #attempts, #bestScore {
    font-style: italic;
    color: #555;
}
